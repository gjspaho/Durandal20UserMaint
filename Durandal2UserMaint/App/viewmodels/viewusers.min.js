define(["durandal/app","services/navigating","knockout","services/dataservice","jquery","services/logger","models/editUserModel","services/scripts"],function(n,t,i,r,u,f,e,o){function s(){t.busy(!0);var n=r.getUserList(h);return n.then(function(){t.busy(!1)})}var h=i.observableArray([]),c=function(){return s()},l=function(n){a(n)},a=function(n){u(n).on("click",".viewRoles",function(){var n=i.dataFor(this);v(n)});u(n).on("click",".editUser",function(){var n=i.dataFor(this);y(n)})},v=function(){n.showMessage("Not implemented yet","Sorry")},y=function(t){var i=new e(t.UserName,t.Email,t.IsActive);i.viewUrl="views/edituser",n.showDialog(i).then(function(n){if(n==="update"){var t=r.updateUser(i);return t.then(function(){return f.log("User hase been updated",null,null,"viewusers",!0),s()}).fail(function(n){f.logError("We encountered an error updating user: "+o.jsonMessage(n),null,"viewusers",!0)})}f.logWarning("The user was NOT updated",null,"viewusers",!0)})},p=function(){var t=new e("","",!0);t.viewUrl="views/adduser",n.showDialog(t).then(function(n){if(n==="update"){var i=r.addUser(t);return i.then(function(){return f.log("User hase been added",null,null,"viewusers",!0),s()}).fail(function(n){f.logError("We encountered an error updating user: "+o.jsonMessage(n),null,"viewusers",!0)})}f.logWarning("The user was NOT added",null,"viewusers",!0)})};return{title:"View Site Users",description:"Here is a list of the users on the site.",activate:c,attached:l,listOfUsers:h,addUser:p}});
//@ sourceMappingURL=viewusers.min.js.map